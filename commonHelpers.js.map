{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_yoBOBNyy7jzfl4OGADTaPZEi6BY0rlNaAfH9a2VOo3BB2nfgjhZguG2a1DjklnJF';\n\nexport async function fetchBreeds() {\n  const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n  return response.data;\n}\n\nexport async function fetchCatByBreed(breedId) {\n  const response = await axios.get(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n  );\n  return response.data;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst body = document.querySelector('body');\nconst selectContainer = document.querySelector('.select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n\nselectContainer.style.display = 'none';\n\ndocument.addEventListener('DOMContentLoaded', markupCreate);\n\nasync function markupCreate() {\n  try {\n    const breeds = await fetchBreeds();\n    loader.style.display = 'none';\n    renderBreeds(breeds);\n    selectContainer.style.display = 'flex';\n    initSlimSelect();\n    selectContainer.addEventListener('change', selectionHandler);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nfunction renderBreeds(breeds) {\n  const markup = breeds\n    .map(({ id, name }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  selectContainer.innerHTML = `<select class=\"breed-select\" id=\"selectElement\">${markup}</select>`; // Updated to selectContainer\n}\n\nfunction selectionHandler() {\n  const selectedOption = getSelectedOptionValue();\n  fetchCatInformation(selectedOption);\n}\n\nfunction getSelectedOptionValue() {\n  const selectElement = document.getElementById('selectElement');\n  return selectElement.options[selectElement.selectedIndex].value;\n}\n\nasync function fetchCatInformation(selectedOption) {\n  try {\n    catInfo.style.display = 'none';\n    loader.style.display = 'block';\n    const breed = await fetchCatByBreed(selectedOption);\n    loader.style.display = 'none';\n    renderCatInfo(breed);\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nfunction renderCatInfo(breed) {\n  catInfo.style.display = 'flex';\n  const markup = `\n    <img class=\"cat-img\" src=\"${breed[0].url}\" alt=\"${breed[0].breeds[0].name}\" />\n    <div class=\"breed-info\">\n      <h1 class=\"cat-name\">${breed[0].breeds[0].name}</h1>\n      <p class=\"description\">${breed[0].breeds[0].description}</p>\n      <h2 class=\"temperament\">Temperament:</h2>\n      <p class=\"temp-descr\">${breed[0].breeds[0].temperament}</p>\n    </div>\n  `;\n  catInfo.innerHTML = markup;\n}\n\nfunction initSlimSelect() {\n  new SlimSelect('.breed-select');\n}\n\nfunction handleError(error) {\n  body.innerHTML = 'Oops! Something went wrong! Try reloading the page!';\n  body.style.color = '#ff0000';\n  iziToast.error({\n    message: 'Error fetching cat information! Try again!',\n    position: 'topRight',\n    color: '#ff0000',\n  });\n  console.log(error.message);\n}\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","body","selectContainer","loader","catInfo","markupCreate","breeds","renderBreeds","initSlimSelect","selectionHandler","error","handleError","markup","id","name","selectedOption","getSelectedOptionValue","fetchCatInformation","selectElement","breed","renderCatInfo","SlimSelect","iziToast"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAElC,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IAClB,CAEO,eAAeE,EAAgBC,EAAS,CAI7C,OAHiB,MAAMH,EAAM,IAC3B,wDAAwDG,GAC5D,GACkB,IAClB,CCVA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAkB,SAAS,cAAc,SAAS,EAClDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElDF,EAAgB,MAAM,QAAU,OAEhC,SAAS,iBAAiB,mBAAoBG,CAAY,EAE1D,eAAeA,GAAe,CAC5B,GAAI,CACF,MAAMC,EAAS,MAAMR,IACrBK,EAAO,MAAM,QAAU,OACvBI,EAAaD,CAAM,EACnBJ,EAAgB,MAAM,QAAU,OAChCM,IACAN,EAAgB,iBAAiB,SAAUO,CAAgB,CAC5D,OAAQC,EAAP,CACAC,EAAYD,CAAK,CAClB,CACH,CAEA,SAASH,EAAaD,EAAQ,CAC5B,MAAMM,EAASN,EACZ,IAAI,CAAC,CAAE,GAAAO,EAAI,KAAAC,KACH,kBAAkBD,MAAOC,YACjC,EACA,KAAK,EAAE,EACVZ,EAAgB,UAAY,mDAAmDU,YACjF,CAEA,SAASH,GAAmB,CAC1B,MAAMM,EAAiBC,IACvBC,EAAoBF,CAAc,CACpC,CAEA,SAASC,GAAyB,CAChC,MAAME,EAAgB,SAAS,eAAe,eAAe,EAC7D,OAAOA,EAAc,QAAQA,EAAc,eAAe,KAC5D,CAEA,eAAeD,EAAoBF,EAAgB,CACjD,GAAI,CACFX,EAAQ,MAAM,QAAU,OACxBD,EAAO,MAAM,QAAU,QACvB,MAAMgB,EAAQ,MAAMpB,EAAgBgB,CAAc,EAClDZ,EAAO,MAAM,QAAU,OACvBiB,EAAcD,CAAK,CACpB,OAAQT,EAAP,CACAC,EAAYD,CAAK,CAClB,CACH,CAEA,SAASU,EAAcD,EAAO,CAC5Bf,EAAQ,MAAM,QAAU,OACxB,MAAMQ,EAAS;AAAA,gCACeO,EAAM,GAAG,aAAaA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,6BAE5CA,EAAM,GAAG,OAAO,GAAG;AAAA,+BACjBA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,8BAEpBA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,IAG/Cf,EAAQ,UAAYQ,CACtB,CAEA,SAASJ,GAAiB,CACxB,IAAIa,EAAW,eAAe,CAChC,CAEA,SAASV,EAAYD,EAAO,CAC1BT,EAAK,UAAY,sDACjBA,EAAK,MAAM,MAAQ,UACnBqB,EAAS,MAAM,CACb,QAAS,6CACT,SAAU,WACV,MAAO,SACX,CAAG,EACD,QAAQ,IAAIZ,EAAM,OAAO,CAC3B"}